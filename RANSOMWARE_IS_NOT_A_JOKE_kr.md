련선웨어가 세상에 나온지 벌써 4년이 다 되어갑니다.

처음 나온 시점보다는 덜하지만, 그래도 관심을 보이는 분들도 있고 비판을 하는 사람도 있고 뭐 그렇습니다.

이걸 가지고 유튜브 영상을 만들거나 이래저래 리뷰를 하는 사람도 있습니다.

아무튼 어제 잠깐 생각한게 있어 이 글을 쓰게 되었습니다.


## 랜섬웨어는 장난감이 아닙니다.

비단 랜섬웨어 뿐만이 아닌 모든 악성코드가 그렇습니다. 저는 련선웨어를 만들고 깃허브에 소스코드를 공개하기 까지 련선웨어가 끼칠 수 있는 모든 종류의 영향에 대해 인지하고 있었습니다.

다만 면책조항을 내세우면 괜찮았겠지 라는 큰 착각을 하고 있었을 뿐입니다.

련선웨어는 처음부터 랜섬웨어의 동작을 그대로 모방하도록 설계되었고 다만 해제 방식만 조금 독특하게 만들었을 뿐입니다. 

따라서 실제 데이터의 암호화와 복호화가 가능한 실제 랜섬웨어이며 이것을 구해서 실행해 보는것은 절대 권하지 않습니다.


* 련선웨어는 여러 보안업체에서 실제 진단명이 부여된(ESET 기준 `Win32/Rensen.A`), 악용 가능성이 충분한 진짜 랜섬웨어입니다.

* 련선웨어를 타인의 PC에서 동의 없이 실행하는 것은 범죄입니다.

* 련선웨어를 구할 수 있는 곳은 많으나 절대 취급하지 않기를 권합니다. 다시한번 말씀드리지만 련선웨어는 실제 동작 가능한 악성코드입니다.


## 그럼 왜 만들었나

2017년 4월 동갤에서 똥글을 싸다가 련선웨어 드립을 발견한 저는 그 때 하필 [카지노 바이러스](https://namu.wiki/w/%EC%B9%B4%EC%A7%80%EB%85%B8%20%EB%B0%94%EC%9D%B4%EB%9F%AC%EC%8A%A4)를 떠올렸습니다.

HiddenTear니 EDA 등의 오픈소스 랜섬웨어의 존재조차 모른 채, 그냥 한번 말 그대로의 `련선웨어` 를 만들어보기 위해 비주얼 스튜디오를 켰습니다.

랜섬웨어의 전형적인 스테레오타입을 떠올려 빨간 랜섬노트 윈도우를 만들고 컴퓨터를 "침몰" 시킬거 같은 이미지의 무라사를 얼굴마담으로 내세웠습니다.

카지노 바이러스의 Badass 같은 (혹은 호로새끼같은) 말투를 생각해가며 랜섬노트를 작성했습니다.

농담을 그대로 실현해보고자 + 조금 짖궂은 장난을 쳐보고자 열심히 랜섬웨어가 할 수 있는 모든 동작을 생각해가며 3일간 코딩했습니다.

당시에는 비대칭키니 공개키니 비밀키니 그런거 몰랐고 암호화만 하면 되겠지 싶어 AES256-CBC를 사용했습니다.

IV의 용도를 도무지 알수가 없어 랜덤이 박힐 곳에는 모두 랜덤을 박았습니다.

그렇게 [처음 버전](https://www.virustotal.com/gui/file/7bf5623f0a10dfa148a35bebd899b7758612f1693d2a9910f716cf15a921a76a/detection)이 릴리즈되었고 백신이 탐지 가능한지 궁금하여 바이러스토탈에 업로드 하였습니다.

이대로 끝냈으면 그냥 조용히 끝났을지도 모릅니다. 사실 뒤에 얘기로 넘어가면 적어도 "조용히" 끝나진 않았을겁니다.

아무튼 그렇게 저는 랜섬웨어가 이런 형태로도 존재할 수 있음을 사람들에게 알리고 싶어 깃허브에 소스코드를 공개했습니다.


## 정말로 퍼졌나?

모릅니다. 련선웨어 관련 컨텐츠마다 본인이 감염되어 고생했느니 뭐니 하며 무용담이 난무하지만 공식적으로 감염이 보고된 것은 제 케이스가 유일한 것으로 알고 있습니다.

제가 련선웨어를 공개한 것은 소스코드 뿐이며, 바이러스토탈을 포함하면 바이너리까지 공개한 것이 맞으나 바이러스 토탈에서 바이너리를 받으려면 관련 업계에서 관련된 일을 하고 있는 사람임을 해야 한다고 알고 있습니다. (일단 적어도 17년 중반까진 그랬습니다.)

그렇습니다. 바이러스 토탈에는 관련 업계인들이 예의주시하고 있는 사이트 중 하나입니다.

MalwareHunterTeam은 그런 사람들 중 하나이고 자신들이 찾아낸 특이한 종류의 악성코드를 트위터에 공개하고 있습니다. 련선웨어도 예외는 아니었던 겁니다.

아무튼 그 이후로 여러 유명한 악성코드 리뷰어들(danooct1 등), BleepingComputer니 Kotaku(인터뷰 요청이 있어 응했으나 황색언론의 클라스를 제대로 보여줬습니다.)니 하는 매체들에 의해 련선웨어의 존재가 전 세계에 알려졌습니다.

처음 논란이 되기 시작한 시점부터 지금까지 제가 알고 있는 것은 이것 뿐입니다.


## 진짜로 스스로 감염되어 2억점을 찍었나?

그렇습니다. 당시 련선웨어는 불안정했고 치트엔진은 제대로 작동하지 않았습니다. 어중간하게 집어넣은 치트 방지 코드가 잘못 작동하는 바람에 치트엔진을 끄고 도전할 수 밖에 없었습니다.

파티션 3개에 있는 제 음악, 문서, 코드, 기타 등등이 싸그리 암호화 되었고 백업도 없거니와 날아가면 당연히 곤란한 파일들이었으니 열심히 밤새워 게임 했습니다.

물론 지금 다시 해보라 하면 못합니다.


## 나무위키 련선웨어 문서에 대하여

[나무위키의 련선웨어 문서](https://namu.wiki/w/%EB%A0%A8%EC%84%A0%EC%9B%A8%EC%96%B4) 초안은 제가 작성한 것입니다. 깃허브에 소스 올리고 한바탕 자고 일어나니 온 세상이 시끄럽길래, 실제 악성코드가 유출되었을 것이라고 판단하고 제대로 된 정보의 전파를 위해 작성했습니다. 

적어도 한국에서는 나무위키가 그나마 쉽고 빠르게 정보를 전파할 수 있을 것이라고 판단했습니다.

당시 저는 충북도립대학에 재학중이었고 기숙사에서 작성했으니 IP주소를 조회하면 한국교육전산망협의회라고 나올겁니다.

지금보니까 아무래도 공용 IP다보니 그 IP로 뭔가 기여 내역이 많은거 같던데 련선웨어 문서 외에는 나무위키에 제가 기여한 바가 없습니다.

아무튼 유튜버들 광고판으로도 쓰이고(danooct1 영상 외에는 제가 올린것이 아닙니다. 나중에는 3개까지 불어나더라고요.) 

이래저래 자칭 전문가들이 와서 휘갈겨놓은 것도 있고 제작자 공식 번역을 마음대로 고쳐놓기도 했던데

`누구나 기여 가능` 하기도 하거니와 제작자가 직접 썼다고 인증하려고 하지도 않았으니 누굴 탓하고 싶진 않습니다.

이후에도 제가 몇번 손대긴 했습니다. 기여 목록 보시면 제가 손댄 흔적이 좀 있을 겁니다.


## 련선웨어를 이용한 컨텐츠

잊을만 하면 게임 유튜버나 컴퓨터 사이언스, 보안 관련 유튜버나 블로거들이 련선웨어를 가지고 컨텐츠를 만들거나 언급되곤 합니다.

[여기](https://gall.dcinside.com/board/view?id=touhou&no=7950881) 에서도 말했지만 저는 련선웨어가지고 그 어떤 권리도 주장할 생각이 없습니다.

애초에 랜섬노트에 들어간 무라사 이미지도 ZUN님의 저작물이거니와 무단 사용이었으니까요.

당시에 급한 나머지 짧게나마 사과문을 작성하여 메일을 드렸지만 확인 하셨는지 알 도리가 없어 ZUN님 뿐만이 아니라 일본 분들께 전달할 목적으로 장문으로 한번 더 작성한 뒤

련선웨어를 다루던 일본 매체들에게 전달했는데 보셨는지는 모르겠습니다. 지금도 면목이 없습니다.


## 련선웨어 요청에 대하여

저는 정당한 목적 없이 악성코드를 타인에게 제공하지 않습니다. 악성코드는 장난감이 아닙니다.

## 마무리

일단은 제가 하고 싶은 말은 이게 전부입니다. 인터넷에 돌아다니는 이야기들이나 컨텐츠에서 나오는 얘기들로 의문이 생길법한 내용들을 다뤄보고 싶었습니다.

예전에 저지른 일에 대해 되돌아보고 싶기도 했습니다.


추가로 궁금한 내용들은 이슈트래커에 남겨주시면 가능할 때마다 답변해 드리겠습니다.

읽어주셔서 감사합니다.
